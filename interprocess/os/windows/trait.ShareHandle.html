<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Objects which own handles which can be shared with another processes."><meta name="keywords" content="rust, rustlang, rust-lang, ShareHandle"><title>ShareHandle in interprocess::os::windows - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../interprocess/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><h2 class="location">Trait ShareHandle</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><div class="sidebar-links"><a href="#method.share">share</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="../../index.html">interprocess</a>::<wbr><a href="../index.html">os</a>::<wbr><a href="index.html">windows</a></h2><div id="sidebar-vars" data-name="ShareHandle" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="../../index.html">interprocess</a>::<wbr><a href="../index.html">os</a>::<wbr><a href="index.html">windows</a>::<wbr><a class="trait" href="#">ShareHandle</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/interprocess/os/windows/mod.rs.html#26-50" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait"><code>pub trait ShareHandle: AsRawHandle {
    fn <a href="#method.share" class="fnname">share</a>(&amp;self, reciever: <a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.pointer.html">*mut </a><a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.unit.html">()</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.pointer.html">*mut </a><a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.unit.html">()</a>&gt; { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Objects which own handles which can be shared with another processes.</p>
<p>On Windows, like with most other operating systems, handles belong to specific processes. You shouldn’t just send the value of a handle to another process (with a named pipe, for example) and expect it to work on the other side. For this to work, you need <a href="https://docs.microsoft.com/en-us/windows/win32/api/handleapi/nf-handleapi-duplicatehandle" title=" "><code>DuplicateHandle</code></a> — the Win32 API function which duplicates a handle into the handle table of the specified process (the reciever is referred to by its handle). This trait exposes the <code>DuplicateHandle</code> functionality in a safe manner. If the handle is <em>inheritable</em>, however, all child processes of a process inherit the handle and thus can use the same value safely without the need to share it. <em>All Windows handle objects created by this crate are inheritable.</em></p>
<p><strong>Implemented for all types inside this crate which implement <a href="https://doc.rust-lang.org/std/os/windows/io/trait.AsRawHandle.html" title=" "><code>AsRawHandle</code></a> and are supposed to be shared between processes.</strong></p>
</div></details><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.share" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/interprocess/os/windows/mod.rs.html#30-49" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.share" class="fnname">share</a>(&amp;self, reciever: <a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.pointer.html">*mut </a><a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.unit.html">()</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.pointer.html">*mut </a><a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Duplicates the handle to make it accessible in the specified process (taken as a handle to that process) and returns the raw value of the handle which can then be sent via some form of IPC, typically named pipes. This is the only way to use any form of IPC other than named pipes to communicate between two processes which do not have a parent-child relationship or if the handle wasn’t created as inheritable, therefore named pipes paired with this are a hard requirement in order to communicate between processes if one wasn’t spawned by another.</p>
<p>Backed by [<code>DuplicateHandle</code>]. Doesn’t require unsafe code since <code>DuplicateHandle</code> never leads to undefined behavior if the <code>lpTargetHandle</code> parameter is a valid pointer, only creates an error.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../../../implementors/interprocess/os/windows/trait.ShareHandle.js" async></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="interprocess" data-search-index-js="../../../search-index.js" data-search-js="../../../search.js"></div>
    <script src="../../../main.js"></script>
</body></html>
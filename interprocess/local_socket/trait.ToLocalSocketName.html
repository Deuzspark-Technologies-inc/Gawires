<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Types which can be converted to a local socket name."><meta name="keywords" content="rust, rustlang, rust-lang, ToLocalSocketName"><title>ToLocalSocketName in interprocess::local_socket - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../interprocess/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><h2 class="location">Trait ToLocalSocketName</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.to_local_socket_name">to_local_socket_name</a></div><h3 class="sidebar-title"><a href="#foreign-impls">Implementations on Foreign Types</a></h3><div class="sidebar-links"><a href="#impl-ToLocalSocketName%3C%27a%3E-for-%26%27a%20CStr">&amp;&#39;a CStr</a><a href="#impl-ToLocalSocketName%3C%27a%3E-for-%26%27a%20OsStr">&amp;&#39;a OsStr</a><a href="#impl-ToLocalSocketName%3C%27a%3E-for-%26%27a%20Path">&amp;&#39;a Path</a><a href="#impl-ToLocalSocketName%3C%27a%3E-for-%26%27a%20str">&amp;&#39;a str</a><a href="#impl-ToLocalSocketName%3C%27static%3E-for-CString">CString</a><a href="#impl-ToLocalSocketName%3C%27static%3E-for-OsString">OsString</a><a href="#impl-ToLocalSocketName%3C%27static%3E-for-PathBuf">PathBuf</a><a href="#impl-ToLocalSocketName%3C%27static%3E-for-String">String</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="../index.html">interprocess</a>::<wbr><a href="index.html">local_socket</a></h2><div id="sidebar-vars" data-name="ToLocalSocketName" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="../index.html">interprocess</a>::<wbr><a href="index.html">local_socket</a>::<wbr><a class="trait" href="#">ToLocalSocketName</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/interprocess/local_socket.rs.html#402-406" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait"><code>pub trait ToLocalSocketName&lt;'a&gt; {
    fn <a href="#tymethod.to_local_socket_name" class="fnname">to_local_socket_name</a>(self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.LocalSocketName.html" title="struct interprocess::local_socket::LocalSocketName">LocalSocketName</a>&lt;'a&gt;&gt;;
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Types which can be converted to a local socket name.</p>
<p>The difference between this trait and <a href="https://doc.rust-lang.org/std/convert/trait.TryInto.html" title=" "><code>TryInto</code></a><code>&lt;</code><a href="struct.LocalSocketName.html" title=" "><code>LocalSocketName</code></a><code>&gt;</code> is that the latter does not constrain the error type to be <a href="https://doc.rust-lang.org/1.56.0/std/io/error/struct.Error.html" title="io::Error"><code>io::Error</code></a> and thus is not compatible with many types from the standard library which are widely expected to be convertible to Unix domain socket paths. Additionally, this makes the special syntax for namespaced sockets possible (see below).</p>
<h2 id="-syntax-for-namespaced-paths" class="section-header"><a href="#-syntax-for-namespaced-paths"><code>@</code> syntax for namespaced paths</a></h2>
<p>As mentioned in the <a href="struct.LocalSocketName.html" title=" "><code>LocalSocketName</code> documentation</a>, there are two types of which local socket names can be: filesystem paths and namespaced names. Those are isolated from each other — there’s no portable way to represent one using another, though certain OSes might provide ways to do so — Windows does, for example. To be able to represent both in a platform-independent fashion, a special syntax was implemented in implementations of this trait on types from the standard library: “@ syntax”.</p>
<p>The feature, in its core, is extremely simple: if the first character in a string is the @ character, the value of the string is interpreted and stored as a namespaced name (otherwise, it’s treated as a filesystem path); the @ character is then removed from the string (by taking a subslice which dosen’t include it if a string slice is being used; for owned strings, it’s simply removed from the string by shifting the entire string towards the beginning). <strong><a href="https://doc.rust-lang.org/std/path/struct.Path.html" title=" "><code>Path</code></a> and <a href="https://doc.rust-lang.org/std/path/struct.PathBuf.html" title=" "><code>PathBuf</code></a> are not affected at all — those have explicit path semantics and therefore cannot logically represent namespaced names.</strong></p>
<p>This feature is extremely useful both when using hardcoded literals and accepting user input for the path, but sometimes you might want to prevent this behavior. In such a case, you have the following possible approaches:</p>
<ul>
<li>If the string is a <a href="https://doc.rust-lang.org/std/ffi/struct.OsStr.html" title=" "><code>OsStr</code></a>/<a href="https://doc.rust-lang.org/std/ffi/struct.OsString.html" title=" "><code>OsString</code></a>, it can be cheaply converted to a <a href="https://doc.rust-lang.org/std/path/struct.Path.html" title=" "><code>Path</code></a>/<a href="https://doc.rust-lang.org/std/path/struct.PathBuf.html" title=" "><code>PathBuf</code></a>, which do not support the @ syntax</li>
<li>If the string is a <a href="https://doc.rust-lang.org/std/primitive.str.html" title=" "><code>str</code></a>/<a href="https://doc.rust-lang.org/std/string/struct.String.html" title=" "><code>String</code></a>, it can be cheaply converted to <a href="https://doc.rust-lang.org/std/ffi/struct.OsStr.html" title=" "><code>OsStr</code></a>/<a href="https://doc.rust-lang.org/std/ffi/struct.OsString.html" title=" "><code>OsString</code></a>; then the above method can be applied</li>
<li>If the string is a <a href="https://doc.rust-lang.org/std/ffi/struct.CStr.html" title=" "><code>CStr</code></a>/<a href="https://doc.rust-lang.org/std/ffi/struct.CString.html" title=" "><code>CString</code></a>, it can be converted to <a href="https://doc.rust-lang.org/std/primitive.str.html" title=" "><code>str</code></a>/<a href="https://doc.rust-lang.org/std/string/struct.String.html" title=" "><code>String</code></a> using the following code:</li>
</ul>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">fn</span> <span class="ident">cstr_to_str</span>(<span class="ident">val</span>: <span class="kw-2">&amp;</span><span class="ident">CStr</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="ident">str</span>, <span class="ident">Utf8Error</span><span class="op">&gt;</span> {
    <span class="ident">std::str::from_utf8</span>(<span class="ident">val</span>.<span class="ident">to_bytes_with_nul</span>())
}
<span class="kw">fn</span> <span class="ident">cstring_to_string</span>(<span class="ident">val</span>: <span class="ident">CString</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">String</span> {
    <span class="ident">String::from_utf8_lossy</span>(<span class="kw-2">&amp;</span><span class="ident">val</span>.<span class="ident">into_bytes_with_nul</span>()).<span class="ident">into</span>()
}</code></pre></div>
<p>Then, the method for <a href="https://doc.rust-lang.org/std/primitive.str.html" title=" "><code>str</code></a>/<a href="https://doc.rust-lang.org/std/string/struct.String.html" title=" "><code>String</code></a> can be applied.</p>
<p>None of the above conversions perform memory allocations — the only expensive one is <a href="https://doc.rust-lang.org/std/ffi/struct.CStr.html" title=" "><code>CStr</code></a>/<a href="https://doc.rust-lang.org/std/ffi/struct.CString.html" title=" "><code>CString</code></a> which performs a check for valid UTF-8.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.to_local_socket_name" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#405" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.to_local_socket_name" class="fnname">to_local_socket_name</a>(self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.LocalSocketName.html" title="struct interprocess::local_socket::LocalSocketName">LocalSocketName</a>&lt;'a&gt;&gt;</h4></div></summary><div class="docblock"><p>Performs the conversion to a local socket name.</p>
</div></details></div><h2 id="foreign-impls" class="small-section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToLocalSocketName%3C%27a%3E-for-%26%27a%20Path" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#408-416" title="goto source code">[src]</a></div><a href="#impl-ToLocalSocketName%3C%27a%3E-for-%26%27a%20Path" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a&gt; <a class="trait" href="trait.ToLocalSocketName.html" title="trait interprocess::local_socket::ToLocalSocketName">ToLocalSocketName</a>&lt;'a&gt; for &amp;'a <a class="struct" href="https://doc.rust-lang.org/1.56.0/std/path/struct.Path.html" title="struct std::path::Path">Path</a></h3></div></summary><div class="impl-items"><div id="method.to_local_socket_name" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#410-415" title="goto source code">[src]</a></div><a href="#method.to_local_socket_name" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.to_local_socket_name" class="fnname">to_local_socket_name</a>(self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.LocalSocketName.html" title="struct interprocess::local_socket::LocalSocketName">LocalSocketName</a>&lt;'a&gt;&gt;</h4></div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToLocalSocketName%3C%27static%3E-for-PathBuf" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#417-425" title="goto source code">[src]</a></div><a href="#impl-ToLocalSocketName%3C%27static%3E-for-PathBuf" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.ToLocalSocketName.html" title="trait interprocess::local_socket::ToLocalSocketName">ToLocalSocketName</a>&lt;'static&gt; for <a class="struct" href="https://doc.rust-lang.org/1.56.0/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a></h3></div></summary><div class="impl-items"><div id="method.to_local_socket_name-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#419-424" title="goto source code">[src]</a></div><a href="#method.to_local_socket_name-1" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.to_local_socket_name" class="fnname">to_local_socket_name</a>(self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.LocalSocketName.html" title="struct interprocess::local_socket::LocalSocketName">LocalSocketName</a>&lt;'static&gt;&gt;</h4></div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToLocalSocketName%3C%27a%3E-for-%26%27a%20OsStr" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#426-431" title="goto source code">[src]</a></div><a href="#impl-ToLocalSocketName%3C%27a%3E-for-%26%27a%20OsStr" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a&gt; <a class="trait" href="trait.ToLocalSocketName.html" title="trait interprocess::local_socket::ToLocalSocketName">ToLocalSocketName</a>&lt;'a&gt; for &amp;'a <a class="struct" href="https://doc.rust-lang.org/1.56.0/std/ffi/os_str/struct.OsStr.html" title="struct std::ffi::os_str::OsStr">OsStr</a></h3></div></summary><div class="impl-items"><div id="method.to_local_socket_name-2" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#428-430" title="goto source code">[src]</a></div><a href="#method.to_local_socket_name-2" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.to_local_socket_name" class="fnname">to_local_socket_name</a>(self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.LocalSocketName.html" title="struct interprocess::local_socket::LocalSocketName">LocalSocketName</a>&lt;'a&gt;&gt;</h4></div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToLocalSocketName%3C%27static%3E-for-OsString" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#432-437" title="goto source code">[src]</a></div><a href="#impl-ToLocalSocketName%3C%27static%3E-for-OsString" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.ToLocalSocketName.html" title="trait interprocess::local_socket::ToLocalSocketName">ToLocalSocketName</a>&lt;'static&gt; for <a class="struct" href="https://doc.rust-lang.org/1.56.0/std/ffi/os_str/struct.OsString.html" title="struct std::ffi::os_str::OsString">OsString</a></h3></div></summary><div class="impl-items"><div id="method.to_local_socket_name-3" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#434-436" title="goto source code">[src]</a></div><a href="#method.to_local_socket_name-3" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.to_local_socket_name" class="fnname">to_local_socket_name</a>(self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.LocalSocketName.html" title="struct interprocess::local_socket::LocalSocketName">LocalSocketName</a>&lt;'static&gt;&gt;</h4></div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToLocalSocketName%3C%27a%3E-for-%26%27a%20str" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#438-442" title="goto source code">[src]</a></div><a href="#impl-ToLocalSocketName%3C%27a%3E-for-%26%27a%20str" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a&gt; <a class="trait" href="trait.ToLocalSocketName.html" title="trait interprocess::local_socket::ToLocalSocketName">ToLocalSocketName</a>&lt;'a&gt; for &amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.56.0/std/primitive.str.html">str</a></h3></div></summary><div class="impl-items"><div id="method.to_local_socket_name-4" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#439-441" title="goto source code">[src]</a></div><a href="#method.to_local_socket_name-4" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.to_local_socket_name" class="fnname">to_local_socket_name</a>(self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.LocalSocketName.html" title="struct interprocess::local_socket::LocalSocketName">LocalSocketName</a>&lt;'a&gt;&gt;</h4></div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToLocalSocketName%3C%27static%3E-for-String" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#443-449" title="goto source code">[src]</a></div><a href="#impl-ToLocalSocketName%3C%27static%3E-for-String" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.ToLocalSocketName.html" title="trait interprocess::local_socket::ToLocalSocketName">ToLocalSocketName</a>&lt;'static&gt; for <a class="struct" href="https://doc.rust-lang.org/1.56.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></h3></div></summary><div class="impl-items"><div id="method.to_local_socket_name-5" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#444-448" title="goto source code">[src]</a></div><a href="#method.to_local_socket_name-5" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.to_local_socket_name" class="fnname">to_local_socket_name</a>(self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.LocalSocketName.html" title="struct interprocess::local_socket::LocalSocketName">LocalSocketName</a>&lt;'static&gt;&gt;</h4></div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToLocalSocketName%3C%27a%3E-for-%26%27a%20CStr" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#450-457" title="goto source code">[src]</a></div><a href="#impl-ToLocalSocketName%3C%27a%3E-for-%26%27a%20CStr" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a&gt; <a class="trait" href="trait.ToLocalSocketName.html" title="trait interprocess::local_socket::ToLocalSocketName">ToLocalSocketName</a>&lt;'a&gt; for &amp;'a <a class="struct" href="https://doc.rust-lang.org/1.56.0/std/ffi/c_str/struct.CStr.html" title="struct std::ffi::c_str::CStr">CStr</a></h3></div></summary><div class="impl-items"><div id="method.to_local_socket_name-6" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#452-456" title="goto source code">[src]</a></div><a href="#method.to_local_socket_name-6" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.to_local_socket_name" class="fnname">to_local_socket_name</a>(self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.LocalSocketName.html" title="struct interprocess::local_socket::LocalSocketName">LocalSocketName</a>&lt;'a&gt;&gt;</h4></div></div></details><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ToLocalSocketName%3C%27static%3E-for-CString" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#458-465" title="goto source code">[src]</a></div><a href="#impl-ToLocalSocketName%3C%27static%3E-for-CString" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.ToLocalSocketName.html" title="trait interprocess::local_socket::ToLocalSocketName">ToLocalSocketName</a>&lt;'static&gt; for <a class="struct" href="https://doc.rust-lang.org/1.56.0/std/ffi/c_str/struct.CString.html" title="struct std::ffi::c_str::CString">CString</a></h3></div></summary><div class="impl-items"><div id="method.to_local_socket_name-7" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/interprocess/local_socket.rs.html#460-464" title="goto source code">[src]</a></div><a href="#method.to_local_socket_name-7" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.to_local_socket_name" class="fnname">to_local_socket_name</a>(self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.LocalSocketName.html" title="struct interprocess::local_socket::LocalSocketName">LocalSocketName</a>&lt;'static&gt;&gt;</h4></div></div></details><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../../implementors/interprocess/local_socket/trait.ToLocalSocketName.js" async></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="interprocess" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script>
</body></html>